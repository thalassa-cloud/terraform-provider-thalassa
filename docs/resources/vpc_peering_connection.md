---
page_title: "thalassa_vpc_peering_connection Resource - terraform-provider-thalassa"
subcategory: "Networking"
description: |-
  Create and manage a VPC peering connection
---

# thalassa_vpc_peering_connection (Resource)

Create and manage a VPC peering connection

## Example Usage

```terraform
# Create VPCs for peering
resource "thalassa_vpc" "requester_vpc" {
  name   = "requester-vpc"
  region = "nl-01"
  cidrs  = ["10.0.0.0/16"]
}

resource "thalassa_vpc" "accepter_vpc" {
  name   = "accepter-vpc"
  region = "nl-01"
  cidrs  = ["10.1.0.0/16"]
}

# Create VPC peering connection
resource "thalassa_vpc_peering_connection" "example" {
  name             = "peering-connection-example"
  description      = "Peering connection between two VPCs in the same region"
  requester_vpc_id = thalassa_vpc.requester_vpc.id
  accepter_vpc_id  = thalassa_vpc.accepter_vpc.id
  auto_accept      = false
}

# # Example 1: Accept a peering connection by ID
resource "thalassa_vpc_peering_connection_acceptance" "accept_by_id" {
  peering_connection_id   = thalassa_vpc_peering_connection.example.id
  wait_for_active         = true
  wait_for_active_timeout = 1
}

# Configure route tables
data "thalassa_vpc_default_route_table" "requester_vpc" {
  vpc_id = thalassa_vpc.requester_vpc.id
}

data "thalassa_vpc_default_route_table" "accepter_vpc" {
  vpc_id = thalassa_vpc.accepter_vpc.id
}

# Configure route table routes
# Important; routes can only be created after the peering connection has been accepted and has become active
resource "thalassa_route_table_route" "requester_vpc" {
  route_table_id                = data.thalassa_vpc_default_route_table.requester_vpc.id
  destination_cidr              = thalassa_vpc.accepter_vpc.cidrs[0]
  target_vpc_peering_connection = thalassa_vpc_peering_connection_acceptance.accept_by_id.peering_connection_id
}

resource "thalassa_route_table_route" "accepter_vpc" {
  route_table_id                = data.thalassa_vpc_default_route_table.accepter_vpc.id
  destination_cidr              = thalassa_vpc.requester_vpc.cidrs[0]
  target_vpc_peering_connection = thalassa_vpc_peering_connection_acceptance.accept_by_id.peering_connection_id
}
```
<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `accepter_vpc_id` (String) ID of the VPC that will accept or deny the peering request
- `name` (String) Name of the VPC peering connection. Must be between 1 and 63 characters and contain only ASCII characters.
- `requester_vpc_id` (String) ID of the VPC that will initiate the peering request

### Optional

- `accepter_organisation_id` (String) ID of the organisation that owns the accepter VPC
- `annotations` (Map of String) Annotations for the VPC peering connection
- `auto_accept` (Boolean) Whether the peering connection should be automatically accepted. Only allowed if requester and accepter VPCs are in the same region and owned by the same organisation.
- `description` (String) Description of the VPC peering connection. Must be at most 500 characters and contain only ASCII characters.
- `labels` (Map of String) Labels for the VPC peering connection
- `wait_for_active` (Boolean) Whether to wait for the VPC peering connection to be active (requires acceptance by the accepter VPC owner). If false, the resource will be marked as created, but the peering connection may not be active yet.
- `wait_for_active_timeout` (Number) The timeout in minutes to wait for the VPC peering connection to be active

### Read-Only

- `accepter_next_hop_ip` (String) Next hop IP address for the accepter VPC
- `accepter_organisation` (List of Object) Information about the accepter organisation (see [below for nested schema](#nestedatt--accepter_organisation))
- `accepter_vpc` (List of Object) Information about the accepter VPC (see [below for nested schema](#nestedatt--accepter_vpc))
- `created_at` (String) Time when the VPC peering connection was created
- `expires_at` (String) Time when the peering request expires if not accepted
- `id` (String) The ID of this resource.
- `requester_next_hop_ip` (String) Next hop IP address for the requester VPC
- `requester_organisation` (List of Object) Information about the requester organisation (see [below for nested schema](#nestedatt--requester_organisation))
- `requester_vpc` (List of Object) Information about the requester VPC (see [below for nested schema](#nestedatt--requester_vpc))
- `status` (String) Current status of the VPC peering connection
- `status_message` (String) Additional information about the current status
- `updated_at` (String) Time when the VPC peering connection was last updated

<a id="nestedatt--accepter_organisation"></a>
### Nested Schema for `accepter_organisation`

Read-Only:

- `identity` (String)
- `name` (String)


<a id="nestedatt--accepter_vpc"></a>
### Nested Schema for `accepter_vpc`

Read-Only:

- `identity` (String)
- `name` (String)


<a id="nestedatt--requester_organisation"></a>
### Nested Schema for `requester_organisation`

Read-Only:

- `identity` (String)
- `name` (String)


<a id="nestedatt--requester_vpc"></a>
### Nested Schema for `requester_vpc`

Read-Only:

- `identity` (String)
- `name` (String)


