---
page_title: "thalassa_security_group_ingress_rule Resource - terraform-provider-thalassa"
subcategory: "Networking"
description: |-
  Manages ingress rules for a security group using the batch API. This resource replaces all ingress rules for the security group. This is an optional alternative to managing rules through the thalassa_security_group resource. Warning: Do not use both this resource and ingress_rule in thalassa_security_group for the same security group, as this will cause conflicts.
---

# thalassa_security_group_ingress_rule (Resource)

Manages ingress rules for a security group using the batch API. This resource replaces all ingress rules for the security group. This is an optional alternative to managing rules through the thalassa_security_group resource. Warning: Do not use both this resource and ingress_rule in thalassa_security_group for the same security group, as this will cause conflicts.

## Example Usage

```terraform
# Create a VPC for the security group
resource "thalassa_vpc" "example" {
  name        = "example-vpc"
  description = "Example VPC for security group ingress rules"
  region      = "nl-01"
  cidrs       = ["10.0.0.0/16"]
}

# Create a security group
resource "thalassa_security_group" "example" {
  name        = "example-security-group"
  description = "Example security group"
  vpc_id      = thalassa_vpc.example.id
  allow_same_group_traffic = false
}

# Create ingress rules for the security group
resource "thalassa_security_group_ingress_rule" "example" {
  security_group_id = thalassa_security_group.example.id

  rule {
    name           = "allow-http"
    ip_version     = "ipv4"
    protocol       = "tcp"
    priority       = 100
    remote_type    = "address"
    remote_address = "0.0.0.0/0"
    port_range_min = 80
    port_range_max = 80
    policy         = "allow"
  }

  rule {
    name           = "allow-https"
    ip_version     = "ipv4"
    protocol       = "tcp"
    priority       = 101
    remote_type    = "address"
    remote_address = "0.0.0.0/0"
    port_range_min = 443
    port_range_max = 443
    policy         = "allow"
  }

  rule {
    name           = "allow-ssh"
    ip_version     = "ipv4"
    protocol       = "tcp"
    priority       = 102
    remote_type    = "address"
    remote_address = "10.0.0.0/8"
    port_range_min = 22
    port_range_max = 22
    policy         = "allow"
  }
}

# Output the security group ID
output "security_group_id" {
  value = thalassa_security_group.example.id
}
```
<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `security_group_id` (String) ID of the Security Group to manage ingress rules for

### Optional

- `rule` (Block List) List of ingress rules for the security group (see [below for nested schema](#nestedblock--rule))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--rule"></a>
### Nested Schema for `rule`

Required:

- `ip_version` (String) IP version of the rule (ipv4 or ipv6)
- `name` (String) Name of the rule
- `policy` (String) Policy of the rule (allow or drop)
- `priority` (Number) Priority of the rule. Must be greater than 0 and less than 200.
- `protocol` (String) Protocol of the rule (all, tcp, udp, icmp)
- `remote_type` (String) Type of the remote address (address or securityGroup)

Optional:

- `port_range_max` (Number) Maximum port of the rule. Must be greater than 0 and less than 65535.
- `port_range_min` (Number) Minimum port of the rule. Must be greater than 0 and less than 65535.
- `remote_address` (String) IP address or CIDR block that the rule applies to
- `remote_security_group_identity` (String) ID of the Security Group that the rule applies to


