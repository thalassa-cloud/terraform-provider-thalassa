---
page_title: "thalassa_kubernetes_cluster_role_binding Resource - terraform-provider-thalassa"
subcategory: "Kubernetes IAM"
description: |-
  Manages a Kubernetes cluster role binding for IAM access control. This resource allows you to bind users, teams, or service accounts to Kubernetes cluster roles.
---

# thalassa_kubernetes_cluster_role_binding (Resource)

Manages a Kubernetes cluster role binding for IAM access control. This resource allows you to bind users, teams, or service accounts to Kubernetes cluster roles.

## Important Notes

- **Single Binding**: Each binding can only bind one entity (user, team, or service account) to one cluster role
- **Mutual Exclusivity**: You must provide exactly one of `user_id`, `team_id`, or `service_account_id`

## Example Usage

```terraform
# First, create a cluster role
resource "thalassa_kubernetes_cluster_role" "app_developer" {
  name        = "app-developer"
  description = "Role for application developers"

  rules {
    resources  = ["pods", "services", "deployments", "configmaps"]
    verbs      = ["get", "list", "watch", "create", "update", "delete", "patch"]
    api_groups = ["", "apps"]
  }
}

# Bind a user to the cluster role
resource "thalassa_kubernetes_cluster_role_binding" "user_binding" {
  name            = "app-developer-user-binding"
  description     = "Bind user to app developer role"
  cluster_role_id = thalassa_kubernetes_cluster_role.app_developer.id
  user_id         = "user-123" # Replace with actual user ID

  labels = {
    "team" = "development"
  }

  note = "Binding for application developer access"
}

# Bind a team to the cluster role
resource "thalassa_kubernetes_cluster_role_binding" "team_binding" {
  name            = "app-developer-team-binding"
  description     = "Bind development team to app developer role"
  cluster_role_id = thalassa_kubernetes_cluster_role.app_developer.id
  team_id         = "team-456" # Replace with actual team ID

  labels = {
    "team" = "development"
  }

  note = "Team binding for development team"
}

# Bind a service account to the cluster role
resource "thalassa_kubernetes_cluster_role_binding" "service_account_binding" {
  name               = "app-developer-sa-binding"
  description        = "Bind service account to app developer role"
  cluster_role_id    = thalassa_kubernetes_cluster_role.app_developer.id
  service_account_id = "sa-789" # Replace with actual service account ID

  labels = {
    "purpose" = "automation"
  }

  note = "Service account binding for automated deployments"
}

# Create a read-only role for monitoring
resource "thalassa_kubernetes_cluster_role" "monitoring" {
  name        = "monitoring-readonly"
  description = "Read-only role for monitoring tools"

  rules {
    resources  = ["*"]
    verbs      = ["get", "list", "watch"]
    api_groups = ["*"]
  }
}

# Bind monitoring service account to read-only role
resource "thalassa_kubernetes_cluster_role_binding" "monitoring_binding" {
  name               = "monitoring-sa-binding"
  description        = "Bind monitoring service account to read-only role"
  cluster_role_id    = thalassa_kubernetes_cluster_role.monitoring.id
  service_account_id = "monitoring-sa-001" # Replace with actual service account ID

  labels = {
    "team"    = "platform"
    "purpose" = "monitoring"
  }

  note = "Monitoring service account with read-only access"
}
```
<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster_role_id` (String) The ID of the Kubernetes cluster role to bind
- `name` (String) The name of the Kubernetes cluster role binding

### Optional

- `annotations` (Map of String) Annotations for the Kubernetes cluster role binding
- `description` (String) A human-readable description of the Kubernetes cluster role binding
- `labels` (Map of String) Labels for the Kubernetes cluster role binding
- `note` (String) A human-readable note for the binding
- `organisation_id` (String) Reference to the Organisation of the Kubernetes Cluster Role Binding. If not provided, the organisation of the (Terraform) provider will be used.
- `service_account_id` (String) The ID of the service account to bind to the cluster role
- `team_id` (String) The ID of the team to bind to the cluster role
- `user_id` (String) The ID of the user to bind to the cluster role

### Read-Only

- `created_at` (String) The timestamp when the Kubernetes cluster role binding was created
- `id` (String) The unique identifier of the Kubernetes cluster role binding
- `slug` (String) The slug of the Kubernetes cluster role binding
- `updated_at` (String) The timestamp when the Kubernetes cluster role binding was last updated


